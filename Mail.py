# smtplib 用于邮件的发信动作import smtplibfrom email.mime.text import MIMETextfrom email.header import Headerimport timeimport math# email 用于构建邮件内容def mails(n):    start_time = time.perf_counter()    m = 0    v = 0    for i in range(n):# 发信方的信息：发信邮箱，QQ 邮箱授权码        a = ['859407385@qq.com', '327128284@qq.com']        b = ['ktxpttkbnlicbbbb', 'yrozqxzupkxjbjia']        for j in range(len(a)):            from_addr = a[j]  #'ssso0o0@163.com''abcabc02@163.com'            password = b[j]  #'1234vbnm'#'yrozqxzupkxjbjia'（327128284）# 收信方邮箱            to_addrs = 'mowen@jd.com'# 'abcabc02@163.com'#to_addrs = ['327128284@qq.com']#, 'abcabc02@163.com']# 发信服务器            smtp_server = 'smtp.qq.com'# 邮箱正文内容，第一个参数为内容，第二个参数为格式(plain 为纯文本)，第三个参数为编码            text1 = '''  '''            msg = MIMEText(text1, 'plain', 'utf-8')# 邮件头信息,比如from收件人邮箱地址，to发件人邮箱地址，主题“python test”。            msg['From'] = Header('.')    #msg['To'] = Header(to_addrs)            msg['To'] = Header(",".join(to_addrs))            msg['Subject'] = Header("BBBB")# 开启发信服务，这里使用的是加密传输            server = smtplib.SMTP_SSL(smtp_server)            server.connect(smtp_server, 465)# 登录发信邮箱#server.starttls()            server.login(from_addr, password)# 发送邮件#n = input('请输入需要发送邮件几次:\n')            for k in range(10):                if k % 10 == 0:                    print('\n')                try:                    server.sendmail(from_addr, to_addrs, msg.as_string())  #发送邮件                    print('\033[1;36m ' + str(k)+'.Success ', end='')                    time.sleep(1.5)                    m += 1                except:                    print('\033[1;34m ' + str(k)+'.Retry ', end='')                    time.sleep(2)                    v += 1            print('\033[1;36m'f'\n 成功: {m} 次, '                                 '\033[1;34m'f' 失败: {v} 次, '                  '\033[1;33m'f' 总共: {m+v} 次')            stop_time = time.perf_counter()            print(time.strftime(' %Y-%m-%d %H:%M:%S', time.localtime(time.time())))            print('\033[1;35m'+' 总共时长：'+str(stop_time-start_time) + ' 秒')# 关闭服务器        server.quit()if __name__ == '__main__':    mails(5)    print()    # print(time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time())))